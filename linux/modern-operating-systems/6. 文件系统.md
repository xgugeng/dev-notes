# 文件

文件结构：字节序列，记录序列，树

文件类型：普通文件和目录，字符特殊文件和块特殊文件

文件存取：顺序存取、随机存取

# 目录

一级目录：重名问题

二级目录：

层次目录结构：目录树

路径名：绝对路径、相对路径

# 文件系统的实现

## 文件系统布局

多个磁盘划分为1个或多个分区，每个分区有一个独立的文件系统。磁盘的0号扇区称为主引导记录（MBR），MBR的结尾是分区表。每个分区都有一个引导块，其次是一个超级块，超级块中包含文件系统的所有关键参数。

## 文件的实现

文件的磁盘分配

1. 连续分配
2. 链表分配（以磁盘块的链表形式存储文件）
3. 在内存中使用表的链表分配
4. i节点：给每个文件赋予一个成为i节点的数据结构，其中列出了文件属性和文件块的磁盘地址

## 目录的实现

文件属性放在何处：

1. 直接放在目录项中 
2. 把文件属性放在i节点中

## 共享文件

B、C共享了某文件，如果该文件发生变化，B和C是不知道的，如何解决这一问题：

1. 磁盘块不列入目录，而是列入与文件关联的i节点中，目录指向这个i节点
2. 建立类型为LINK的新文件，并把它放在B的目录下，使得B和C有一个文件存在连接。

# 导航

[目录](README.md)

上一章：[5. 输入-输出.md](5. 输入-输出.md)

下一章：[8. 多处理机系统](8. 多处理机系统.md)
