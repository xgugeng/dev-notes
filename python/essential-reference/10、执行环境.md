<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
**Table of Contents**  *generated with [DocToc](https://github.com/thlorenz/doctoc)*

- [10.1 Interpreter Options and Environment](#101-interpreter-options-and-environment)
- [10.2 Interactive Sessions](#102-interactive-sessions)
- [10.3 Launching Python Application](#103-launching-python-application)
- [20.4 Site Configuration Files](#204-site-configuration-files)
- [20.5 Per-user Site Packages](#205-per-user-site-packages)
- [20.6 Enabling Future Features](#206-enabling-future-features)
- [20.7 Program Termination](#207-program-termination)
- [导航](#%E5%AF%BC%E8%88%AA)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

# 10.1 Interpreter Options and Environment

Options are given to interpreter on the command line as follows:

```shell
python [options] [-c cmd | filename | - ] [args]
```

Interpreter Command-Line Arguments

| Options | Description |
| ------- | ----------- |
| -B | Prevents the creation of .pyc or .pyo files on import. |
| -E | Ignores environment variables. |
| -h | Prints a list of all available command-line options. |
| -i | Enters interactive mode after program execution. |
| -m | module Runs library module module as a script. |
| -O | Optimized mode. |
| -OO | Optimized mode plus removal of documentation strings when creating .pyo files. |
| -Q | arg Specifies the behavior of the division operator in Python 2. One of -Qold (the default), -Qnew, -Qwarn, or -Qwarnall. |
| -s | Prevents the addition of the user site directory to sys.path. |
| -S | Prevents inclusion of the site initialization module. |
| -t | Reports warnings about inconsistent tab usage. |
| -tt | Inconsistent tab usage results in a TabError exception. |
| -u | Unbuffered binary stdout and stdin. |
| -U | Unicode literals. All string literals are handled as Unicode (Python 2 only). |
| -v | Verbose mode. Traces import statements. |
| -V | Prints the version number and exits. | 
| -x | Skips the first line of the source program. |
| -c | cmd Executes cmd as a string. |

The program name appears after all the interpreter options. If no name is given, or the hyphen (-) character is used as a filename, the interpreter reads the program from standard input.

Interpreter Environment Variables

| Environment Variable | Description |
| -------------------- | ----------- |
| PYTHONPATH | Colon-separated module search path. |
| PYTHONSTARTUP | File executed on interactive startup. |
| PYTHONHOME | Location of the Python installation. |
| PYTHONINSPECT | Implies the -i option. |
| PYTHONUNBUFFERED | Implies the -u option. |
| PYTHONIOENCODING | Encoding and error handling for stdin, stdout, and stderr. This is a string of the form "encoding[:errors]" such as "utf-8" or "utf-8:ignore". |
| PYTHONDONTWRITEBYTECODE | Implies the -B option |
| PYTHONOPTIMIZE | Implies the -O option. |
| PYTHONNOUSERSITE | Implies the -s option. |
| PYTHONVERBOSE | Implies the -v option. |
| PYTHONUSERBASE | Root directory for per-user site packages. |
| PYTHONCASEOK | Indicates to use case-insensitive |


# 10.2 Interactive Sessions

If no program name is given and the standard input to the interpreter is an interactive terminal, Python starts in interactive mode.

By default, the output of commands issued in interactive mode is generated by printing the output of the built-in repr() function on the result.

In interactive mode, it is useful to know that the result of the last operation is stored in a special variable (_).


# 10.3 Launching Python Application

```python
#!/usr/bin/env python
# Python code from this point on...
print "Hello world"
```


# 20.4 Site Configuration Files

A typical Python installation may include a number of third-party modules and packages. To configure these packages, the interpreter first imports the module `site`.The role of `site` is to search for package files and to add additional directories to the module search path `sys.path`. In addition, the site `module` sets the default encoding for Unicode string conversions.

The site module works by first creating a list of directory names constructed from the values of `sys.prefix` and `sys.exec_prefix` as follows:

```
[ sys.prefix, # Windows only
sys.exec_prefix, # Windows only
sys.prefix + 'lib/pythonvers/site-packages',
sys.prefix + 'lib/site-python',
sys.exec_prefix + 'lib/pythonvers/site-packages',
sys.exec_prefix + 'lib/site-python' ]
```

For each directory in the list, a check is made to see whether the directory exists. If so, it’s added to the `sys.path` variable. Next, a check is made to see whether it contains any path configuration files (files with a `.pth` suffix). 


# 20.5 Per-user Site Packages

Individual users can install modules and packages in a per-user site directory. On UNIX and Macintosh systems, this directory is found under `~/.local`
and is named something such as `~/.local/lib/python2.6/site-packages`.

If you are writing your own Python modules and packages that you want to use in a library, they can be placed in the per-user site directory.


# 20.6 Enabling Future Features

```python
# Enable new division semantics
from __future__ import division
```

The scope of a `__future__` import is restricted only to the module in which it is used.Thus, importing a future feature does not affect the behavior of Python’s library modules or older code that requires the previous behavior of the interpreter to
operate correctly.


# 20.7 Program Termination

A program terminates when no more statements exist to execute in the input program, when an uncaught `SystemExit` exception is raised (as generated by `sys.exit()`), or when the interpreter receives a `SIGTERM` or `SIGHUP` signal (on UNIX).

On exit, the interpreter decrements the reference count of all objects in all the currently known namespaces (and destroys each namespace as well). If the reference count of an object reaches zero, the object is destroyed and its `__del__()` method is invoked.

Because there’s no guarantee that `__del__()` will be invoked at termination, it may be a good idea to explicitly clean up certain objects.

The `__del__` method for some objects may try to access global data or methods defined in other modules. Because
these objects may already have been destroyed, a `NameError` exception occurs in `__del__`, and you may get an error such as the following:

```
Exception exceptions.NameError: 'c' in <method Bar.__del__
of Bar instance at c0310> ignored
```

If this is a concern, it’s probably a good idea to perform an explicit shutdown step in your code, rather than rely on the interpreter to destroy objects cleanly at program termination.


# 导航

[目录](README.md)

上一章：[9、输入与输出](9、输入与输出.md)

下一章：[11、测试、调试、探查与调优](11、测试、调试、探查与调优.md)
