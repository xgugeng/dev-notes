<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
**Table of Contents**  *generated with [DocToc](https://github.com/thlorenz/doctoc)*

- [第2章 简单的文本编辑器](#%E7%AC%AC2%E7%AB%A0%C2%A0%E7%AE%80%E5%8D%95%E7%9A%84%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8)
  - [vi命令](#vi%E5%91%BD%E4%BB%A4)
  - [Windows环境下gVim的准备](#windows%E7%8E%AF%E5%A2%83%E4%B8%8Bgvim%E7%9A%84%E5%87%86%E5%A4%87)
  - [单一的移动](#%E5%8D%95%E4%B8%80%E7%9A%84%E7%A7%BB%E5%8A%A8)
  - [数值参数](#%E6%95%B0%E5%80%BC%E5%8F%82%E6%95%B0)
  - [在一行中移动](#%E5%9C%A8%E4%B8%80%E8%A1%8C%E4%B8%AD%E7%A7%BB%E5%8A%A8)
  - [按照文本块移动](#%E6%8C%89%E7%85%A7%E6%96%87%E6%9C%AC%E5%9D%97%E7%A7%BB%E5%8A%A8)
  - [附加文本](#%E9%99%84%E5%8A%A0%E6%96%87%E6%9C%AC)
  - [更改文本](#%E6%9B%B4%E6%94%B9%E6%96%87%E6%9C%AC)
  - [替换文本](#%E6%9B%BF%E6%8D%A2%E6%96%87%E6%9C%AC)
  - [更改大小写](#%E6%9B%B4%E6%94%B9%E5%A4%A7%E5%B0%8F%E5%86%99)
  - [删除文本](#%E5%88%A0%E9%99%A4%E6%96%87%E6%9C%AC)
  - [恢复](#%E6%81%A2%E5%A4%8D)
  - [移动文本](#%E7%A7%BB%E5%8A%A8%E6%96%87%E6%9C%AC)
  - [对调2个字符](#%E5%AF%B9%E8%B0%832%E4%B8%AA%E5%AD%97%E7%AC%A6)
  - [复制文本](#%E5%A4%8D%E5%88%B6%E6%96%87%E6%9C%AC)
  - [重复撤销命令](#%E9%87%8D%E5%A4%8D%E6%92%A4%E9%94%80%E5%91%BD%E4%BB%A4)
  - [插入文本的其他方法](#%E6%8F%92%E5%85%A5%E6%96%87%E6%9C%AC%E7%9A%84%E5%85%B6%E4%BB%96%E6%96%B9%E6%B3%95)
  - [合并](#%E5%90%88%E5%B9%B6)
- [导航](#%E5%AF%BC%E8%88%AA)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

# 第2章 简单的文本编辑器

## vi命令

刚进入vi之后，处于命令模式中，按i会进入插入模式，在插入模式中按`Esc`键会进入命令模式。

 

## Windows环境下gVim的准备

（1）打开gVim，输入`mkvimrc! ~/.vimrc`  该命令会在用户目录下新建一个`.vimrc`的脚本文件，gvim每次启动的时候都会读取这个文件里的配置

（2）编辑`~/.vimrc`文件，加入一些脚本

```
set nobackup     不备份文件，避免自动产生a.txt~备份文件

syntax on              语法高亮

set number           显示行数

colo elflord            设置颜色

set guifont=Consolas:h15:cANSI  设置字体为Consolas，字体大小h15，为西欧cANSI字符

set nocompatible

set ai   自动缩进

set si   智能缩进

set nu  显示行数

set ts=4  一个tab=4个空格

set bs=indent,eol,start

set guioptions-=T  无工具条

set foldmethod=indent " 折叠方式为 依靠缩进

colorscheme murphy

```

 

## 单一的移动

| h/Backspace | 左移一个字符 |
| ----------- | ------ |
| j/Enter     | 下移一个字符 |
| k           | 上移一个字符 |
| l           | 右移一个字符 |

 

## 数值参数

在移动命令之前加上数字，例如4l 右移4个字符

 

## 在一行中移动

vi会以用户按Enter键作为一行的换行，而与显示行无关

`:set wm=10` 设置与右边界的距离是10个字符的时候就会换行

| 0    | 移动到行首 |
| ---- | ----- |
| $    | 移动到行尾 |

 

## 按照文本块移动

| w    | 向后移动一个单词（标点、符号算作一个单词）  |
| ---- | ---------------------- |
| W    | 向后移动一个单词（标点、符号不算作一个单词） |
| b    | 向前移动一个单词（标点、符号算作一个单词）  |
| B    | 向前移动一个单词（标点、符号不算作一个单词） |
| G    | 移动到文件的尾部  前加数字表示移动到指定行 |

同样支持前加数字

 

## 附加文本

| a    | 在光标之后插入文本 |
| ---- | --------- |
| i    | 在光标之前插入文本 |
| c    | 更改        |
| d    | 删除        |

 

## 更改文本

c + 光标移动命令：结束后需要按Esc键回到命令模式

| cw   | 从光标到这个单词末尾     |
| ---- | -------------- |
| c2b  | 从光标往前2个单词      |
| c$   | 从光标到本行末尾（效果同C） |
| c0   | 从光标到此行的开头      |
| cc   | 覆盖当前一正行        |

r用于修改单个字符

r + 修改后的字符，完成后立即回到命令模式

 

## 替换文本

| s    | 替换一个字符  |
| ---- | ------- |
| S    | 替换一整行字符 |
| R    | 进入覆盖模式  |

 

## 更改大小写

~ 可以更改字符的大小写，加数字可以制定从光标开始的范围

 

## 删除文本

| d       | 删除命令                  |
| ------- | --------------------- |
| dw      | 删除一个单词（单词之后的空格也会被删除）  |
| de      | 删除一个单词（单词之后的空格也不会被删除） |
| db      | 向前删除一个单词              |
| d$ 或者 D | 删除到一行的结尾              |
| d0      | 删除到一行的开头              |
| dd      | 删除一整行                 |
| x       | 删除光标后面的一个字符           |
| X       | 删除光标前后的一个字符           |

 

## 恢复

| u    | 撤销上一个命令                                  |
| ---- | ---------------------------------------- |
| U    | 恢复一整行                                    |
| p    | 恢复最近几次的删除的内容  vi会将最近9次删除的整行数据放在9个缓冲区中（移动文本讲解） |

 

## 移动文本

vi会将删除之后的文本放在缓冲区中，此时使用放置命令p，就实现了剪切-粘贴

删除的整行，会在光标所在行的下一行粘贴文本

删除的不是整行，会在光标所在位置的下一个字符开始粘贴

 

## 对调2个字符

xp x是删除一个字符，p是粘贴

 

## 复制文本

使用y拖拽、p放置

同样可以配合移动键使用

yw y$ yy

不同的是Y是复制一整行

拖拽命令和删除命令共享缓冲区

 

## 重复撤销命令

上一个命令会保存在一个缓冲区中

. 重复上一个命令

 

## 插入文本的其他方法

| A    | 行尾附加文本                |
| ---- | --------------------- |
| I    | 行首添加文本                |
| o    | 在下一行添加文本              |
| O    | 在上一行添加文本              |
| s    | 删除光标所在位置的一个字符后，进入插入模式 |
| S    | 删除一整行后，进入插入模式         |
| R    | 在光标坐在位置进入替换模式         |

 

## 合并

| J    | 合并当前行和下一行 |
| ---- | --------- |
| 3J   | 合并3行      |

# 导航

[目录](README.md)

下一章：[1. vi文本编辑器](1. vi文本编辑器.md)

下一章：[3. 快速移动位置](3. 快速移动位置.md)
