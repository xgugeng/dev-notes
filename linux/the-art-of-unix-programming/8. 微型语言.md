<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
**Table of Contents**  *generated with [DocToc](https://github.com/thlorenz/doctoc)*

- [8.1 理解语言分类法](#81%C2%A0%E7%90%86%E8%A7%A3%E8%AF%AD%E8%A8%80%E5%88%86%E7%B1%BB%E6%B3%95)
- [8.3 设计微型语言](#83%C2%A0%E8%AE%BE%E8%AE%A1%E5%BE%AE%E5%9E%8B%E8%AF%AD%E8%A8%80)
- [导航](#%E5%AF%BC%E8%88%AA)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

程序员每百行出错率和使用的编程语言很大程度上无关。更高级的语言可以用更少的行数完成更多的任务，也意味着更少的bug。 

微型语言：小型、专门应用领域特制、大量减少程序行数的语言。

1. 使用微型语言把编程问题的规格说明提升一个层次，更具表达力，更紧凑；
2. 规格说明文件越来越像微型语言

# 8.1 理解语言分类法

 案例分析

- sng: 透明，结构化的数据文件使得相应的编辑、转换和生成工具无需要知道其他方的设计假定。
- regexp：Glob表达式，基本正则表达式，扩展正则表达式，Perl正则表达式。正则表达式是微型语言能够多么简练的极端例子。
- Glade：X，GTK（和Qt是两个流行开源X工具包），说明GUI窗体及属性、代码生成。
- m4：扩展字符串，键值对。
- XSLT：复杂，但是仍然是微语言：有限的分类，不包含数组和数据结构；有限的接口。
- troff：排版格式器。
- fetchmail：语法糖导致分号癌，谨慎使用，防止晦涩多余帮助。
- awk：内嵌在脚本中使用。
- PostScript：排版，堆栈式语言支持紧凑、经济的编码，但也非常难读。
- bc和dc：无限精度算数。
- Emacs Lisp：emacs是围绕lisp的语言构建而成的，原语既可以说明编辑缓存的动作，也可以控制从进程。
- javascript：无需真正进入但可尽量接近的通用语言；客户端javascript及其通过单个DOM对象的浏览器环境结合是个不错的设计。

# 8.3 设计微型语言

1. 简单。如果出于不便或者安全的考虑，可以使用数据结构代替微语言。或者利用沙盒化来简化设计，提高安全性。
2. 自顶向下。
3. 扩展和嵌入语言来实现微语言。
4. 编写自定义语法，yacc和lex是重要工具。
5. 慎用宏，防止滋生bug；比如运算的优先级。
6. 语言还是应用协议，微型语言引擎是否可以被其他程序作为从进程交互调用。

# 导航

[目录](README.md)

上一章：[7. 多道程序设计](7. 多道程序设计.md)

下一章：[9. 生成](9. 生成.md)

