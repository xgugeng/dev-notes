- [技巧37 用缓冲区列表管理打开的文件](#技巧37-用缓冲区列表管理打开的文件)
- [技巧38 用参数列表将缓冲区分组](#技巧38-用参数列表将缓冲区分组)
- [技巧39 管理隐藏缓冲区](#技巧39-管理隐藏缓冲区)
- [技巧40 用工作区切分窗口](#技巧40-用工作区切分窗口)
- [技巧41 用标签页将窗口分组](#技巧41-用标签页将窗口分组)


# 技巧37 用缓冲区列表管理打开的文件

我们使用 Vim 编辑的只是文件在内存中的影响，也就是缓冲区。当 Vim 打开一个文件时，该文件的内容被读入一个具有相同名字的缓冲区。

`:ls` 命令会列出所有被载入内存中的缓冲区的列表。

有 4 条命令可以遍历缓冲区列表：

1. `:bnext` 命令可以切换到列表中的下一缓冲区
2. `:bprev` 反向移动
3. `:bfirst` 跳到列表的开头
4. `:blast` 跳到列表的结尾

`:buffer N` 命令直接凭编号跳转到一个缓冲区。

删除缓冲区的命令格式：`:bdelete N1 N2 N3` 或 `:N,M bdelete`

# 技巧38 用参数列表将缓冲区分组

使用不带参数的 `:args` 会打印当前参数列表的内容，另外也可以用 `:args {arglist}` 来设置参数列表的内容。其中 `{arglist}` 可以包括文件名、通配符，甚至是 shell 命令的输出结果。

# 技巧39 管理隐藏缓冲区

在退出时，处理隐藏缓冲区的方式：
1. `:w` 将缓冲区内容写入磁盘
2. `:e!` 将磁盘内容读入缓冲区
3. `:qa` 关闭所有窗口，摒弃修改
4. `:wa!` 将所有修改写入磁盘

# 技巧40 用工作区切分窗口

Vim 的窗口是缓冲区的显示区域，可以打开多个窗口，在这些窗口中显示同一个缓冲区，也可以每个窗口载入不容的缓冲区。

创建分隔窗口
1. `<C-w>s` 可以水平切分窗口，新窗口仍显示当前缓冲区
2. `<C-w>v` 可以垂直切分窗口，新窗口仍显示当前缓冲区
3. `:sp {file}` 水平切分窗口，并在新窗口载入 `{file}` 
4. `:vsp {file}` 垂直切分窗口，并在新窗口载入 `{file}`

在窗口间切换
1. `<C-w>w` 在窗口间循环切换
2. `<C-w>h`：左
3. `<C-w>j`：下
4. `<C-w>k`：上
5. `<C-w>l`：右

关闭窗口
1. `:close` 或普通模式的 `<C-w>c` 关闭活动窗口
2. `:only` 或普通模式的 `<C-w>o` 只保留活动窗口 改变窗口大笑或重排窗口

改变窗口大小或重排窗口
1. `<C-w>=` 使所有的窗口等宽、等高
2. `<C-w>_` 最大化活动窗口的高度
3. `<C-w>|` 最大化活动窗口的宽度
4. `[N]<C-w>_` 把活动窗口的高度设置为 N 行
5. `[N]<C-w>|` 把活动窗口的宽度设置为 N 列

# 技巧41 用标签页将窗口分组

Vim 的标签页是可以容纳一系列窗口的容器。Vim 的标签页与缓冲区并非一一对应。

`:lcd {path}` 命令可以设置当前窗口的本地工作目录，它只影响当前窗口，而非当前标签页。如果一个标签页包含多个窗口，可以用`:windo lcd {path}`为所有的窗口设置本地工作目录。

打开一个新的标签页：`:tabedit {filename}`

把当前标签页的窗口移到一个新的标签页中：`<C-w>T`

`:tabclose` 关闭当前标签页，`:close`关闭窗口

`tabonly` 只保留活动标签页，关闭其他

标签页的编号从 1 开始，可以用 `{N}gt` 命令来切换：
- 切换到编号为 `{N}` 的标签页：`:tabnext N` 或 `{N}gt`
- 切换到下一标签页：`:tabnext` 或 `gt`
- 切换到上一标签页：`:tabprevious` 或 `gT`

重排标签页：`tabmove [N]`
